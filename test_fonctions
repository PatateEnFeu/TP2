from configuration import FICHIER_UTILISATEURS, FICHIER_PROPRIETES, FICHIER_SESSION
from gestionnaire_donnees import charger_proprietes, sauvegarder_propriete
from gestionnaire_utilisateurs import utilisateur_est_connecte
from utilitaires import afficher_tableau, formater_argent

# Fonction sauvegarder_utilisateurs

# utilisateurs = {'chien':'wouaf wouaf', 'chatte': 'miaou', 'vache':'meuh', 'A': 'B'}

# with open(FICHIER_UTILISATEURS,'w') as save_line:
#     for cle in utilisateurs:
#         save_line.write(f"{cle}, {utilisateurs[cle]}\n")





# Fonction charger_proprietes

# list_prop = []
# with open(FICHIER_PROPRIETES,'r') as info_prop:
#     info_prop.readline() # passer la 1ère ligne d'entête
#     for ligne in info_prop:
#         ligne = ligne.strip()
#         if ligne: # si la ligne du fichier n'est pas vide
#             elements = ligne.split(',')
#             dict_prop = {
#                 'prix': int(elements[0]),
#                 'ville': elements[1],
#                 'type': elements[2],
#                 'chambres': int(elements[3]),
#                 'salles_de_bains': int(elements[4])
            
#             }
#             list_prop.append(dict_prop)

#         else : # si la ligne du fichier est vide
#             list_prop.append([])

# print (list_prop)

# à mettre dans fichier pour test
# prix,ville,type,chambres,salles_de_bains
# 5000000,Québec,Maison,4,2
# 4554545,Montréal,Condo,7,6

# 9888800,Toronto,Maison,7,9




# Fonction recuperer_utilisateurs_courant


# with open (FICHIER_SESSION,'r') as connected:
#     for ligne in connected:
#         ligne = ligne.strip()
#         if ligne:
#             print(str(ligne))
#         else:
#             print ('rien à voir')


# Fonction lister_propriete
# list_of_list = []
# sous_liste = []
# list_prop = charger_proprietes()

# for valeur in list_prop:
#     sous_liste = [
#         formater_argent(valeur["prix"]),
#         valeur["ville"],
#         valeur["type"],
#         valeur["chambres"],
#         valeur["salles_de_bains"]
#     ]

#     list_of_list.append(sous_liste)

# if list_prop :
#     afficher_tableau(list_of_list,["Prix","Ville","Type de propriété","Chambres","Salles de bains"])

# else :
    # print("Aucune propriété disponible")


# Fonction ajouter_propriété

    # info_prop = {}
    # if true:
    #     prix = int(input("Entrez le prix: "))
    #     demander_nombre_positif(prix)
    #     ville = input("Entrez la ville: ")
    #     Type_prop = input("Entrez le type de propriété (maison, condo, etc..): ")
    #     nbr_chamb = int(input("Entrez le nombre de chambres: "))
    #     demander_nombre_positif(nbr_chamb)
    #     nbr_sdb = int(input("Entrez un nombre de salles de bains: "))
    #     demander_nombre_positif(nbr_sdb)
   
    #     info_prop = {
    #         "prix": prix,
    #         "ville": ville,
    #         "type" : Type_prop,
    #         "chambres": nbr_chamb,
    #         "salles_de_bains": nbr_sdb
    #     }

    #     sauvegarder_propriete(info_prop)

    # else:
    #     print("L'utilisateur n'est pas connecté, vous ne pouvez pas ajouter de propriété")